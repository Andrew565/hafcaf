var c=(t,e,n)=>{(async i=>{let a=await fetch(`${e||"pages"}/${i.id}.html`),l=a.ok?await a.text():"";return{...t,innerHTML:l}})(t).then(i=>n.addRoute(i))},r=c;function h(t){t.Barista=(e,n)=>c(e,n,t)}var f=(t,e)=>Object.keys(e).reduce((n,s)=>n.replace(new RegExp(`{${s}}`,"g"),e[s]),t),u=f;var g={routes:{},config:{activeClass:"active",linkClass:void 0,linkTag:"li",linkTagClass:void 0,loadingHTML:"<p>Loading...</p>",mainID:"main-container",navID:"nav-list",pageClass:void 0,pageTag:"div"},exitFunctions:[],addRoute(t){let e=t.id;if(this.routes[e]!==void 0){console.error(`A route with the ID ${e} already exists. Please use the updateRoute() method if you wish to update it, or change this route's ID if you still want to add it.`);return}if(this.routes[e]=t,t.linkHTML){let i=document.createElement(this.config.linkTag),o=t.linkTagClass||this.config.linkTagClass;o&&i.classList.add(o);let a=document.createElement("a");a.href=`#${e}`,a.innerHTML=t.linkHTML;let l=t.linkClass||this.config.linkClass;l&&a.classList.add(l),i.appendChild(a),document.getElementById(this.config.navID)?.appendChild(i)}if(document.getElementById(e)===null){let i=document.createElement(this.config.pageTag);i.id=e;let o=t.pageClass||this.config.pageClass;o&&i.classList.add(o),i.innerHTML=t.innerHTML||this.config.loadingHTML,document.getElementById(this.config.mainID)?.appendChild(i)}let s=location.hash.slice(1);e===s&&this.routeChange()},defaultRouteID:"home",updateRoute(t){let e=t.id,n=this.routes[e];if(!n)return console.error(`A route with the ID ${e} does not exist, cannot update it.`),!1;if(t.linkHTML){let i=document.querySelector(`a[href='#${e}']`);i&&(i.innerHTML=t.linkHTML)}if(t.innerHTML){let i=document.getElementById(e);i&&(i.innerHTML=t.innerHTML)}t.onRender&&(n.onRender=t.onRender);let s=location.hash.slice(1);e===s&&this.routeChange()},routeChange(){let t=location.hash.slice(1),e=this.routes[t]||this.routes[this.defaultRouteID];if(!e)return;let{activeClass:n}=this.config;for(let i of document.getElementsByClassName(n))i.classList.remove(n);for(;this.exitFunctions.length>0;)this.exitFunctions.pop()?.();let s=document.querySelector(`a[href='#${e.id}']`);s&&s.classList.add(n),e.onRender!==void 0&&e.onRender(),window.location.hash.slice(1)!==e.id&&(window.location.hash=e.id)},init(t){t&&(this.config={...this.config,...t}),window.addEventListener("hashchange",()=>{this.routeChange()}),window.location.hash||(window.location.hash=this.defaultRouteID),this.routeChange()}},d=g;var k=d;export{r as Barista,h as HireBarista,u as Tamp,k as default};
//# sourceMappingURL=hafcaf.min.js.map
